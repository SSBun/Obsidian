

2025 年，视频传输协议主要分为**推流/摄入协议**（从主播到服务器）和**分发/播放协议**（从服务器到观众）。主流协议包括 RTMP、HLS、DASH、WebRTC 和 SRT。这些协议支持实时直播、点播和互动场景，结合自适应比特率（ABR）和 CDN 实现全球分发。

以下表格对比主流协议的核心特点：

| 协议       | 基础传输层 | 典型延迟          | 自适应比特率 | 兼容性（2025 年）                  | 主要用途                          | 优点                                      | 缺点                                      | 流行平台示例                  |
|------------|------------|-------------------|--------------|------------------------------------|-----------------------------------|-------------------------------------------|-------------------------------------------|-------------------------------|
| RTMP      | TCP       | 低（1-3 秒）     | 不支持       | 推流优秀，播放需转码              | 直播推流（摄入）                  | 低延迟、稳定、成熟编码器支持              | 不支持 HTML5 原生播放、防火墙问题         | OBS、YouTube、Twitch、B站    |
| HLS       | HTTP      | 标准 5-30 秒<br>LL-HLS 2-5 秒 | 支持         | 极高（iOS 原生、浏览器 hls.js）   | 点播和大规模直播分发              | 兼容性强、CDN 友好、自适应强、易加密      | 标准版延迟高                              | Apple、Netflix、B站、抖音    |
| DASH      | HTTP      | 标准 5-30 秒<br>LL-DASH ~3 秒 | 支持         | 高（浏览器 MSE 原生）             | 点播和大规模直播分发              | 标准开放、灵活、自适应强、支持高级 codec  | iOS 支持需额外库                          | YouTube、Netflix             |
| WebRTC    | UDP       | 超低（<1 秒）    | 支持         | 浏览器原生高                      | 实时互动（视频会议、游戏）        | 超低延迟、P2P、加密、NAT 穿越             | 扩展难、成本高、无 CDN 支持               | Zoom、Google Meet、Discord   |
| SRT       | UDP       | 低（<1 秒）      | 有限         | 专业工具高                        | 专业贡献馈送（远程制作）          | 可靠（丢包恢复）、加密、安全、低延迟      | 播放端支持少、非大规模观众                | 阿里云、Haivision、专业直播  |

### 详细介绍主流协议

#### 1. RTMP（Real-Time Messaging Protocol）
- **背景**：Adobe 开发于 2000 年代，主要用于 Flash 时代直播。
- **工作原理**：基于 TCP 的持久连接，将音视频分成小块传输，支持实时控制。
- **特性**：低延迟推流、支持加密变体（RTMPS）。
- **优缺点**：推流标准，但播放端已过时（需转 HLS/DASH）。
- **2025 年地位**：仍是主流推流协议（如 OBS 默认），但分发已淘汰。

#### 2. HLS（HTTP Live Streaming）
- **背景**：Apple 2009 年推出，基于 HTTP 的自适应协议。
- **工作原理**：将视频切成 TS 或 fMP4 小段，通过 m3u8 播放列表分发，支持多码率。
- **特性**：LL-HLS（低延迟版）延迟降至 2-5 秒、易集成 CDN、支持 DRM。
- **优缺点**：兼容性最强、适合移动端，但标准版延迟较高。
- **2025 年地位**：点播和直播分发王者，苹果生态首选。

#### 3. DASH（Dynamic Adaptive Streaming over HTTP）
- **背景**：MPEG 2012 年标准化，开放替代 HLS。
- **工作原理**：类似 HLS，但用 MPD 清单文件，支持 fMP4 段。
- **特性**：高度灵活、支持 CMAF（与 HLS 统一格式）、LL-DASH 低延迟。
- **优缺点**：跨平台强、效率高，但 iOS 支持稍弱。
- **2025 年地位**：YouTube/Netflix 主力，海外主流。

#### 4. WebRTC（Web Real-Time Communication）
- **背景**：Google 等 2011 年推动，浏览器原生实时协议。
- **工作原理**：基于 UDP 的 P2P 传输，支持 VP8/VP9/AV1 和 Opus。
- **特性**：超低延迟、强制加密、NAT 穿越。
- **优缺点**：互动神器，但大规模分发成本高。
- **2025 年地位**：视频会议和实时互动首选。

#### 5. SRT（Secure Reliable Transport）
- **背景**：Haivision 开源，2013 年推出，基于 UDT。
- **工作原理**：UDP 上加丢包恢复和加密，支持 ARQ 重传。
- **特性**：低延迟、可靠传输、AES 加密。
- **优缺点**：弱网神器、安全高，但观众端支持有限。
- **2025 年地位**：专业远程制作和贡献馈送主流，阿里云等支持。

### 其他值得一提的协议
- **RTSP/RTP**：监控和旧系统常用，低延迟但浏览器不支持。
- **QUIC/MOQ**：新兴，基于 UDP 的 HTTP/3 变体，未来低延迟潜力大。

### 2025 年趋势与选择建议
- **混合使用**：常见 workflow：RTMP/SRT 推流 → 服务器转码 → HLS/DASH 分发 → WebRTC 互动。
- **低延迟优先**：选 WebRTC 或 SRT。
- **大规模观众**：选 HLS/DASH。
- **专业制作**：选 SRT。
- **实时互动**：选 WebRTC。

这些协议共同支撑了 2025 年的直播生态（如 B 站、抖音、YouTube），如果你有特定场景（如低延迟直播），我可以推荐最佳组合！