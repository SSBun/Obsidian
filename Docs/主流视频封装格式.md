
视频封装格式（也称为容器格式）是用于将视频流、音频流、字幕、元数据等元素“打包”成一个文件的标准。它本身不负责压缩（压缩由编解码器如H.264、AV1处理），而是提供结构来组织这些轨道，确保兼容性和功能性。下面我详细介绍 2025 年主流的视频封装格式，按使用普及度从高到低排序（基于流媒体、直播、存储等场景）。每个格式包括历史背景、支持的压缩策略（即兼容的编解码器）、特性、优缺点。数据基于 2025 年实际生态（如YouTube、B站、Netflix、OBS直播等）。

#### 1. MP4 (MPEG-4 Part 14)
- **历史背景**：由 MPEG 组织于 2001 年标准化，基于 QuickTime MOV 格式演变而来。最初用于存储 MPEG-4 内容，现已成为互联网视频的标准容器。
- **压缩策略（支持的编解码器）**：高度兼容，支持 H.264/AVC、H.265/HEVC、AV1、VP9 等视频编码；AAC、Opus、MP3 等音频编码。不直接压缩，但通过 ISO Base Media File Format (ISOBMFF) 结构高效组织轨道，支持可变比特率 (VBR) 和恒定比特率 (CBR)。
- **特性**：
  - 支持多轨道：视频、音频、字幕 (SRT/Timed Text)、章节、元数据 (Exif-like)。
  - 流式传输友好：快速启动 (moov atom 可置于文件头)。
  - 扩展性强：支持 DRM (如 Widevine)、HDR 元数据、360° 视频。
  - 文件大小限制：理论无上限，但实际常用于 <4GB 文件。
  - 2025 年兼容性：几乎所有设备（手机、浏览器、TV）原生支持，是 YouTube、B站上传默认格式。
- **优缺点**：
  - **优点**：兼容性无敌（苹果/安卓/浏览器全支持），文件小、易编辑，适合移动端和流媒体。直播中常用于 HLS/DASH 分段。
  - **缺点**：专利限制多（需授权某些扩展），不支持某些开源 codec（如旧版不支持 AV1 需扩展），字幕灵活性不如 MKV。

MP4 是 2025 年“万金油”格式，90% 的在线视频都用它。

#### 2. MKV (Matroska Video)
- **历史背景**：开源项目 Matroska 于 2002 年启动，基于 EBML (Extensible Binary Meta Language) 设计，旨在成为灵活的开源容器。广泛用于高清电影和动漫爱好者社区。
- **压缩策略（支持的编解码器）**：极度开放，支持几乎所有 codec，包括 H.264、H.265、AV1、VP9、Theora（视频）；Opus、AAC、FLAC、DTS（音频）。不压缩数据，而是通过章节和附件高效封装，支持无损音频和多版本轨道。
- **特性**：
  - 支持无限轨道：多音频（不同语言）、多字幕（ASS/SSA 高级样式）、附件（封面、字体）。
  - 高级功能：章节导航、菜单、3D 视频、变量帧率 (VFR)。
  - 修复友好：损坏文件可部分播放。
  - 文件大小：无限制，适合大文件 (>4GB)。
  - 2025 年兼容性：VLC、PotPlayer 等播放器完美支持，浏览器需插件，Netflix/蓝光原盘常用。
- **优缺点**：
  - **优点**：开源免费、功能最全（发烧友首选），支持高级字幕和多语言，文件完整性高。
  - **缺点**：兼容性不如 MP4（手机/浏览器需转换），文件头大导致启动慢，不适合实时直播。

MKV 是 2025 年“发烧级”存储格式，动漫和蓝光 rip 常用。

#### 3. WebM
- **历史背景**：Google 于 2010 年推出，基于 Matroska 子集，旨在为 HTML5 视频提供开源容器。最初用于 VP8/VP9，现扩展到 AV1。
- **压缩策略（支持的编解码器）**：专注于开源 codec，如 VP8/VP9/AV1（视频）；Opus/Vorbis（音频）。通过简化的 EBML 结构封装，支持 VBR 和低延迟模式。
- **特性**：
  - 支持透明视频 (Alpha 通道)、HDR、360° 内容。
  - 流式友好：小文件头，适合网页嵌入。
  - 元数据：基本标签和章节。
  - 文件大小：无限制，但优化为网络传输。
  - 2025 年兼容性：Chrome/Firefox/Edge 原生支持，YouTube 4K 默认使用，Android/iOS 通过浏览器播放。
- **优缺点**：
  - **优点**：完全开源免费，文件小、加载快，适合网页和实时流（WebRTC）。
  - **缺点**：codec 限制（不支持 H.264/HEVC），字幕支持弱（仅 WebVTT），苹果生态兼容差（Safari 需扩展）。

WebM 是 2025 年“网页视频王者”，YouTube 高清内容主力。

#### 4. MOV (QuickTime File Format)
- **历史背景**：苹果于 1991 年为 QuickTime 开发，现基于 ISOBMFF，与 MP4 高度相似。用于专业视频编辑。
- **压缩策略（支持的编解码器）**：支持 ProRes（苹果无损）、H.264、H.265、AV1 等；音频如 AAC、ALAC。结构类似 MP4，支持高比特率和无损模式。
- **特性**：
  - 支持多轨道：时间码、元数据、旋转信息。
  - 编辑友好：快速剪辑，无需重新编码。
  - 扩展：支持 360°、VR、Alpha 通道。
  - 文件大小：无限制。
  - 2025 年兼容性：苹果生态（Final Cut Pro、iMovie）完美，Windows/Android 需 QuickTime 或 VLC。
- **优缺点**：
  - **优点**：专业级（无损 ProRes 适合后期），与 MP4 互转容易，苹果设备原生支持。
  - **缺点**：封闭生态（非苹果设备兼容差），文件大，不适合网络传输。

MOV 是 2025 年“苹果专业格式”，视频制作常用。

#### 5. AVI (Audio Video Interleave)
- **历史背景**：微软于 1992 年为 Windows 开发，是最早的视频容器之一。现已过时，但仍用于某些遗留系统。
- **压缩策略（支持的编解码器）**：支持 MJPEG、DivX、XviD 等老 codec；音频如 MP3/PCM。通过交织 (Interleave) 方式封装，支持 VBR。
- **特性**：
  - 简单结构：视频+音频交织，无复杂元数据。
  - 支持大文件 (OpenDML 扩展)。
  - 2025 年兼容性：VLC 支持，但浏览器/手机基本废弃。
- **优缺点**：
  - **优点**：简单、兼容旧设备，编码快。
  - **缺点**：不支持现代 codec（如 H.265/AV1），无字幕/章节，文件大且易损坏。2025 年几乎淘汰。

AVI 只剩遗留用途，如老游戏录像。

#### 6. FLV (Flash Video)
- **历史背景**：Adobe 于 2003 年为 Flash Player 开发，用于网页视频。现因 Flash 淘汰而衰退，但 RTMP 直播中仍有使用。
- **压缩策略（支持的编解码器）**：支持 H.264/VP6（视频）；AAC/MP3（音频）。通过 Tag 结构封装，支持低延迟。
- **特性**：
  - 流式传输：实时注入元数据。
  - 支持脚本 (AMF)。
  - 2025 年兼容性：VLC/PotPlayer 支持，浏览器已弃用 Flash。
- **优缺点**：
  - **优点**：低延迟，适合旧直播。
  - **缺点**：Flash 依赖，安全漏洞多，2025 年基本退出主流。

FLV 只剩 RTMP 直播遗留。

#### 7. TS (MPEG Transport Stream)
- **历史背景**：MPEG 于 1995 年为广播开发，用于数字电视和卫星传输。
- **压缩策略（支持的编解码器）**：支持 H.264/H.265/AVS 等；音频如 AAC/Dolby。使用 188 字节包结构，适合错误恢复。
- **特性**：
  - 容错高：丢包后快速恢复。
  - 支持多节目 (PID)。
  - 2025 年兼容性：IPTV、DVB 支持，HLS 使用 .ts 分段。
- **优缺点**：
  - **优点**：广播级容错，适合弱网。
  - **缺点**：文件大、无元数据，2025 年仅用于传输而非存储。

TS 是 2025 年“广播/直播传输”格式。

#### 附加总结
- **选择指南**：网页/移动用 MP4/WebM；存储/编辑用 MKV/MOV；直播用 MP4/TS；旧系统用 AVI。
- **趋势**：2025 年，MP4 和 MKV 占 80% 市场，WebM/AV1 容器崛起于开源生态。所有格式都支持 DRM 和自适应流 (DASH/HLS)。

如果需要特定格式的示例文件或转换工具，告诉我！