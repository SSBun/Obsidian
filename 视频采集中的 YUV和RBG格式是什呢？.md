视频采集时经常提到的 **YUV** 和 **RGB 是两种最常见的“颜色空间”（Color Space）。它们本质上都是用来表示一个像素点颜色的方式，但存储结构、适用场景完全不同。下面用最直白的方式给你讲清楚它们的区别、优缺点，以及为什么直播推流几乎都用 YUV 而不是 RGB。

| 项目          | RGB（Red-Green-Blue）                       | YUV（亮度+色度分离）                                 |
|---------------|---------------------------------------------|-----------------------------------------------------|
| 核心思想      | 直接用红、绿、蓝三种光相加来表示颜色         | 把“亮度”（人眼最敏感）和“色彩”分开存储               |
| 典型子格式    | RGB24、RGBA32、ARGB、BGRA 等                 | YUV420P（I420）、YUV422P、NV12、NV21、YUYV422 等     |
| 一个像素占多少字节 | 3字节（RGB24 或 4字节RGBA                   | 平均 1.5 字节（YUV420P 最常见）                      |
| 人眼感知      | 亮度和颜色混在一起，浪费带宽                 | 人眼对亮度敏感，对色度不敏感，可以大幅丢色度数据      |
| 直播/视频编码 | 几乎不用直接传 RGB，浪费带宽                 | 所有主流编码器（H.264、H.265、AV1）都要求输入 YUV   |
| 硬件加速支持  | 部分支持，但效率低                           | 摄像头、显卡、编码芯片都原生输出/加速 YUV             |

### 1. RGB：最“直观”的颜色表示法（显示器用）
- 每个像素 = R（红）+ G（绿）+ B（蓝）三个分量
- 常见格式：
  - RGB24：每个分量 8bit，总 24bit（3 字节）
  - RGBA32：再加一个 Alpha 透明通道，共 32bit（4 字节）
- 优点：人脑和显示器都直接理解，渲染最简单
- 缺点：数据量太大
  - 1080p 30fps 的 RGB24 视频 ≈ 1.5 Gbps（约 180 MB/s），根本推不了直播！

### 2. YUV：为视频传输和压缩而生的格式（摄像头、编码器用）
YUV 把颜色拆成三个通道，但聪明地利用了人眼特性：

| 通道 | 含义                     | 人眼敏感度 | 是否可以大幅下采样 |
|------|--------------------------|------------|--------------------|
| Y    | 亮度（Luma）             | 非常敏感   | 不可以             |
| U    | 蓝色色度差（Cb）         | 不敏感     | 可以               |
| V    | 红色色度差（Cr）         | 不敏感     | 可以               |

最常见的 **YUV420P（也叫 I420）** 格式：
- 每 4 个像素共享一组 U 和 V
- 数据量只有 RGB 的 50%（平均 1.5 字节/像素）
- 1080p 30fps 的 YUV420P ≈ 750 Mbps → 编码后几 Mbps 就能推流

举例（4个像素的存储对比）：

| 格式       | 存储内容（简化）                         | 总字节数 |
|------------|------------------------------------------|----------|
| RGB24      | R1G1B1 R2G2B2 R3G3B3 R4G4B4              | 12 字节  |
| YUV420P    | Y1 Y2 Y3 Y4 + U(平均) + V(平均)          | 6 字节   |

### 3. 实际采集到推流时的真实路径（以电脑直播为例）

```
摄像头硬件采集
     ↓
原始数据通常就是 YUY2 或 MJPEG（内部仍是 YUV 系）
     ↓
OBS / FFmpeg 驱动拿到数据 → 基本都是 YUV420P 或 NV12
     ↓
交给 x264 / NVENC / Quick Sync 硬件编码器（输入必须是 YUV）
     ↓
编码成 H.264 码流 → 封装进 FLV → RTMP 推流到服务器
```

### 4. 常见 YUV 子格式速查（你经常在 OBS 里看到）

| 格式     | 别名         | 每像素字节 | 常见场景                     |
|----------|--------------|------------|------------------------------|
| YUV420P  | I420 / yv12  | 1.5        | 主流直播、录像、编码输入     |
| NV12     | Android 常用 | 1.5        | 手机摄像头、硬件编码首选     |
| NV21     | Android 默认 | 1.5        | 同上，UV 顺序相反            |
| YUYV422  | YUY2         | 2          | 很多老摄像头直接输出         |

### 总结一句话：
- **RGB** 是给屏幕显示用的（显卡、显示器最爱）
- **YUV** 是给传输和压缩用的（摄像头、编码器、直播全链路最爱）

所以你推 RTMP 直播时，从摄像头出来到最终交给编码器，99.9% 的情况走的都是 YUV 格式，RGB 只在最后渲染到你电脑屏幕时才出现。